<header>
	<admin-logo></admin-logo>
</header>
<admin-nav></admin-nav>
<div class="admin-page">
	<div class="admin-album">
		<div class="album-info">
			<form class="admin-form" style="padding-top: 0;">
				<fieldset>
					<div class="form-row">
						<div class="newAlbum-image" ng-click="triggerUpload($event)" ng-class="{'hasImage': album.image, 'isLoading': showAlbumSpinner}">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1126 874" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 416.92 56.64 C 469.52 50.21 524.16 57.17 572.45 79.46 C 611.23 97.30 646.35 123.40 673.92 156.04 C 693.07 178.62 708.13 204.46 719.55 231.73 C 727.42 225.30 735.52 219.07 744.50 214.26 C 774.37 197.36 810.57 193.56 843.89 200.53 C 878.37 207.65 908.68 229.52 929.12 257.81 C 942.37 275.95 950.90 297.52 953.63 319.82 C 957.43 347.86 953.43 377.24 940.49 402.56 C 938.11 407.60 935.07 412.27 932.19 417.03 C 957.10 423.21 981.25 433.05 1002.51 447.53 C 1022.18 460.67 1039.45 477.28 1053.84 496.02 C 1066.46 512.42 1076.96 530.51 1084.22 549.91 C 1093.95 574.98 1098.09 602.01 1097.84 628.84 C 1097.63 650.77 1094.34 672.73 1087.49 693.58 C 1074.75 733.16 1048.86 767.68 1016.77 793.75 C 1002.02 805.69 985.72 815.79 968.25 823.26 C 946.68 832.55 923.47 837.84 900.05 839.40 C 888.39 840.23 876.69 839.96 865.01 840.00 C 674.34 840.00 483.67 840.00 293.00 840.00 C 272.70 840.18 252.28 839.91 232.23 836.34 C 192.12 829.81 153.99 812.37 122.44 786.81 C 94.05 763.85 69.67 735.54 52.90 703.01 C 34.27 667.10 25.78 626.33 26.63 586.00 C 26.90 563.74 30.24 541.56 36.34 520.16 C 51.14 470.72 81.11 425.70 121.78 393.81 C 136.80 382.01 153.31 372.22 170.51 363.98 C 167.36 326.43 171.10 288.19 182.39 252.21 C 193.35 217.17 211.89 184.66 235.75 156.80 C 255.81 133.37 279.09 112.55 305.23 96.11 C 338.85 74.75 377.39 61.37 416.92 56.64 M 513.21 256.19 C 448.53 320.83 383.89 385.52 319.20 450.17 C 314.54 454.81 311.29 461.42 312.48 468.13 C 313.43 476.16 320.79 482.80 328.91 482.75 C 370.94 482.76 412.97 482.75 455.00 482.75 C 455.05 548.28 454.91 613.81 455.06 679.34 C 454.99 688.91 463.63 697.38 473.20 697.18 C 507.77 697.35 542.34 697.19 576.92 697.26 C 581.89 697.33 587.26 696.60 591.11 693.15 C 595.70 689.58 598.17 683.82 597.98 678.05 C 598.03 612.95 597.98 547.85 598.00 482.75 C 639.69 482.76 681.38 482.75 723.07 482.76 C 730.22 482.93 736.82 477.96 739.52 471.49 C 742.13 464.83 740.51 456.72 735.33 451.73 C 670.15 386.53 604.97 321.34 539.77 256.17 C 532.92 248.92 520.03 248.90 513.21 256.19 Z"/></g></svg>
							<div class="spinner" ng-if="showAlbumSpinner"></div>
							<img ng-src="{{ album.image }}">
						</div>
						<input type="file" accept="image/jpeg" id="newAlbumPhoto">
					</div>
				</fieldset>
				<fieldset>
					<div class="form-row">
						<input type="text" placeholder="Введите название альбома" ng-model="album.title" required id="newAlbumTitle" ng-keyup="enterTitle($event)">
					</div>
					<div class="form-row">
						<textarea placeholder="Введите описание альбома" id="newAlbumDesc" ng-model="album.desc"></textarea>
					</div>
					<div class="form-row">
						<div tags-list="album.tags" tags-list-changed="albumTagsChanged"></div>
					</div>
				</fieldset>
				<div class="form-row" style="overflow: hidden; width: 100%; text-align: center;">
					<hr>
					<div class="form-row-item" style="vertical-align: bottom;">
						<p class="status">Дата создания: <em class="date">{{ album.date }}</em></p>
						<p class="status draft" ng-if="!album.published">Статус: <span>Черновик</span></p>
						<p class="status published" ng-if="album.published">Статус: <span>Опубликован</span></p>
						<input type="submit" value="Опубликовать" class="btn btn-publish" ng-if="!album.published" ng-click="album_publishAlbum($event, album)" style="float: left;">
						<input type="submit" value="В черновики" class="btn btn-unpublish" ng-if="album.published" ng-click="album_publishAlbum($event, album)" style="float: left;">
					</div>
					<div class="form-row-item" style="vertical-align: bottom;">
						<a ng-href="/photos/{{ album.url }}" class="btn btn-link btn-image" style="margin-left: 20px;" ng-if="album.published" target="_blank">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 962 992" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 249.85 26.32 C 290.65 20.97 334.20 30.06 366.99 55.65 C 374.97 61.31 381.82 68.33 388.91 75.03 C 407.32 93.96 426.19 112.45 444.79 131.18 C 466.38 153.71 489.38 174.89 510.35 198.00 C 523.26 213.23 533.39 230.86 539.46 249.90 C 546.79 272.54 548.55 296.76 546.16 320.36 C 544.09 339.09 538.94 357.56 530.24 374.31 C 522.27 390.53 510.81 404.75 498.24 417.63 C 514.63 433.99 530.99 450.37 547.37 466.75 C 560.06 454.03 574.37 442.76 590.47 434.68 C 608.87 425.11 629.34 419.80 649.98 418.24 C 671.72 416.76 693.86 418.73 714.60 425.59 C 731.98 431.15 748.19 440.13 762.46 451.48 C 770.58 457.98 778.01 465.32 785.33 472.71 C 813.33 500.71 841.32 528.70 869.32 556.70 C 883.63 571.46 899.33 585.09 911.29 601.95 C 924.72 620.53 933.70 642.23 937.58 664.81 C 941.93 691.52 940.66 719.39 932.25 745.20 C 925.12 767.10 912.62 787.11 896.57 803.58 C 882.43 818.44 867.48 832.49 853.07 847.07 C 840.33 860.01 827.18 872.54 814.41 885.46 C 800.78 899.21 785.45 911.59 767.83 919.85 C 745.05 931.20 719.33 935.79 694.02 935.37 C 670.78 934.91 647.40 930.07 626.59 919.53 C 615.62 914.35 605.65 907.30 596.20 899.74 C 584.28 889.39 573.59 877.75 562.32 866.71 C 540.89 845.45 519.84 823.82 498.42 802.56 C 487.54 791.78 476.83 780.84 466.15 769.88 C 453.45 756.68 442.85 741.41 435.51 724.61 C 428.15 708.01 424.08 690.03 422.82 671.94 C 421.23 647.58 424.11 622.70 433.08 599.89 C 441.31 578.21 454.99 558.88 471.48 542.68 C 455.22 526.22 438.71 509.99 422.46 493.52 C 409.35 506.12 395.07 517.77 378.65 525.81 C 346.11 542.53 307.82 546.07 272.15 539.27 C 249.44 534.60 227.70 524.91 209.47 510.54 C 203.25 506.22 197.97 500.77 192.36 495.73 C 154.65 458.06 116.98 420.35 79.28 382.67 C 65.67 369.12 53.47 353.86 45.23 336.43 C 36.31 318.61 31.47 298.90 30.00 279.08 C 28.52 257.38 30.55 235.27 37.49 214.60 C 42.09 200.44 49.10 187.14 57.65 174.98 C 67.24 161.73 78.94 150.22 90.70 138.93 C 112.30 117.12 134.31 95.75 155.91 73.94 C 165.88 64.43 176.14 55.03 188.05 47.99 C 206.66 36.21 228.01 28.90 249.85 26.32 M 232.59 148.55 C 213.51 167.82 194.03 186.67 174.94 205.93 C 166.53 214.52 157.57 222.57 149.44 231.45 C 140.37 241.60 135.72 255.44 136.71 269.00 C 137.12 282.05 142.94 294.64 152.19 303.79 C 191.02 342.64 229.84 381.50 268.72 420.30 C 279.42 431.05 295.00 435.91 309.97 434.77 C 323.77 434.21 336.85 427.59 346.31 417.67 C 338.74 409.99 330.76 402.73 323.37 394.87 C 317.18 387.39 310.85 379.55 308.13 370.06 C 304.66 356.37 305.83 341.21 312.90 328.83 C 320.89 315.08 334.92 304.55 350.83 302.28 C 363.07 300.59 376.43 301.92 386.79 309.16 C 400.63 317.70 410.82 330.62 422.40 341.77 C 430.09 334.11 436.57 324.88 439.08 314.16 C 442.78 298.99 440.08 282.02 430.55 269.46 C 424.78 261.97 417.63 255.73 411.09 248.95 C 396.77 234.59 382.32 220.35 368.18 205.81 C 349.00 186.67 329.86 167.49 310.81 148.22 C 301.02 138.06 287.21 131.85 273.04 131.98 C 257.96 131.46 243.12 137.87 232.59 148.55 M 623.25 542.63 C 631.04 550.55 639.32 558.00 646.85 566.19 C 652.80 573.39 658.76 581.01 661.41 590.11 C 664.62 602.93 663.95 617.03 657.96 628.96 C 650.41 643.93 635.73 655.44 619.01 657.96 C 608.78 659.43 597.92 658.76 588.45 654.37 C 571.90 646.10 560.28 631.30 547.28 618.65 C 538.58 626.60 532.05 637.18 529.88 648.84 C 527.21 663.09 529.92 678.63 538.69 690.35 C 541.90 695.03 546.31 698.67 550.06 702.90 C 564.03 716.94 578.06 730.91 592.06 744.92 C 613.93 767.38 636.43 789.24 658.32 811.68 C 665.34 818.83 674.23 824.22 684.08 826.34 C 698.67 829.48 714.73 827.60 727.40 819.39 C 733.51 815.68 738.26 810.28 743.30 805.32 C 750.40 798.10 757.84 791.22 764.91 783.96 C 782.98 765.67 801.58 747.91 819.52 729.49 C 835.19 712.92 837.27 685.80 825.35 666.57 C 822.92 662.51 819.79 658.93 816.47 655.59 C 777.93 617.09 739.44 578.53 700.88 540.05 C 690.33 529.32 675.00 523.82 660.04 524.93 C 645.99 525.45 632.66 532.33 623.25 542.63 Z"/></g></svg>
						</a>
						<a ng-href="#" class="btn btn-image btn-save" ng-class="{disabled: !isUpdated && !albumTagsChanged}" ng-click="updateAlbum($event, album.title)">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 910 906" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 78.19 28.35 C 249.45 28.11 420.72 28.32 591.99 28.25 C 602.46 28.11 612.96 29.11 623.16 31.56 C 640.96 36.16 658.17 43.39 673.57 53.49 C 681.93 58.90 689.13 65.82 696.05 72.92 C 740.22 117.09 784.40 161.26 828.57 205.44 C 836.81 213.88 845.57 221.84 853.12 230.93 C 865.97 247.79 874.75 267.53 880.14 287.96 C 883.83 301.98 883.91 316.57 883.75 330.98 C 883.75 488.99 883.75 646.99 883.75 805.00 C 883.61 815.95 884.11 826.91 883.33 837.84 C 881.39 859.94 863.81 879.52 842.18 884.13 C 834.57 885.80 826.73 885.47 819.00 885.50 C 572.74 885.47 326.47 885.56 80.21 885.46 C 58.88 885.99 38.54 872.10 30.45 852.52 C 27.33 845.09 26.35 836.96 26.49 828.97 C 26.52 579.63 26.48 330.29 26.51 80.94 C 26.57 67.46 31.94 54.09 41.54 44.57 C 50.94 34.53 64.43 28.55 78.19 28.35 M 98.01 99.75 C 97.99 337.84 98.00 575.92 98.00 814.00 C 121.75 814.00 145.50 814.00 169.25 814.00 C 169.25 740.01 169.24 666.03 169.25 592.05 C 169.24 585.66 169.15 579.23 170.06 572.90 C 173.29 550.90 192.03 532.15 214.05 529.00 C 221.64 527.88 229.33 528.35 236.98 528.25 C 385.31 528.25 533.65 528.25 681.98 528.25 C 688.59 528.19 695.30 528.39 701.72 530.16 C 723.60 536.00 740.59 557.12 740.73 579.93 C 740.79 657.95 740.73 735.98 740.76 814.00 C 764.58 814.00 788.41 814.00 812.25 814.00 C 812.25 648.01 812.24 482.03 812.25 316.05 C 812.37 307.83 809.55 299.97 806.57 292.43 C 803.72 285.72 800.65 278.86 795.60 273.48 C 743.44 221.29 691.25 169.13 639.08 116.95 C 634.64 112.45 628.94 109.50 623.26 106.88 C 615.25 103.35 606.87 100.06 598.01 99.72 C 597.97 176.86 598.05 254.00 597.97 331.14 C 598.15 344.84 593.15 358.62 583.52 368.48 C 573.57 379.49 558.86 385.64 544.06 385.46 C 439.06 385.56 334.05 385.47 229.04 385.50 C 221.15 385.58 213.09 385.28 205.56 382.70 C 187.45 376.60 173.02 360.09 170.11 341.11 C 169.16 334.79 169.24 328.37 169.25 321.99 C 169.24 247.91 169.25 173.84 169.24 99.76 C 145.50 99.75 121.75 99.75 98.01 99.75 M 396.37 100.51 C 389.42 102.68 383.82 109.44 383.75 116.85 C 383.76 176.91 383.75 236.96 383.75 297.02 C 383.94 306.29 392.66 314.34 401.91 313.98 C 437.30 314.02 472.69 314.00 508.08 313.99 C 517.78 314.44 526.70 305.76 526.48 296.04 C 526.51 236.67 526.50 177.29 526.48 117.92 C 526.71 110.53 521.73 103.56 514.93 100.90 C 511.48 99.46 507.67 99.77 504.03 99.75 C 470.01 99.76 435.99 99.75 401.97 99.75 C 400.08 99.76 398.18 99.96 396.37 100.51 M 240.76 599.76 C 240.75 671.17 240.75 742.58 240.75 814.00 C 383.58 814.00 526.41 814.00 669.25 814.00 C 669.25 742.58 669.25 671.17 669.24 599.76 C 526.41 599.75 383.59 599.75 240.76 599.76 Z"/></g></svg>
						</a>
					</div>
				</div>
				<hr>
				<div class="item-overlay">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"/><path d="M36 18c0-9.94-8.06-18-18-18" transform="rotate(273.929 18 18)"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"/></path></g></g></svg>
				</div>
				<a ng-href="#" ng-click="removeAlbum($event, album.url, album.title, album.image)" class="btn-remove">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 815" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 192.55 106.64 C 208.76 90.58 235.60 87.68 255.37 98.64 C 261.44 101.97 266.50 106.79 271.32 111.69 C 324.67 165.05 378.03 218.40 431.38 271.76 C 485.61 217.51 539.86 163.29 594.09 109.04 C 598.63 104.43 603.75 100.32 609.58 97.46 C 628.89 88.03 654.10 91.07 669.69 106.22 C 684.72 120.89 699.42 135.90 714.32 150.70 C 725.87 162.37 737.66 173.79 749.04 185.62 C 765.93 203.34 767.40 233.18 752.94 252.78 C 750.30 256.48 747.01 259.63 743.81 262.82 C 690.25 316.38 636.69 369.93 583.13 423.50 C 636.33 476.73 689.57 529.93 742.78 583.16 C 746.97 587.28 751.14 591.51 754.38 596.45 C 767.37 616.10 765.29 644.60 748.89 661.70 C 724.74 685.95 700.49 710.11 676.30 734.33 C 672.79 737.75 669.51 741.45 665.57 744.40 C 645.89 759.77 615.06 758.41 597.08 740.93 C 541.84 685.72 486.61 630.48 431.39 575.25 C 376.31 630.30 321.27 685.38 266.19 740.43 C 247.15 759.51 213.11 759.96 193.57 741.41 C 181.24 729.75 169.51 717.47 157.42 705.56 C 143.01 690.99 128.28 676.72 114.06 661.96 C 97.23 644.69 95.25 615.54 108.78 595.76 C 111.94 591.02 116.06 587.04 120.09 583.05 C 173.26 529.85 226.47 476.70 279.62 423.49 C 224.44 368.31 169.26 313.14 114.09 257.96 C 104.66 248.20 99.53 234.54 99.98 221.00 C 99.73 207.30 105.41 193.76 115.06 184.09 C 140.88 158.26 166.67 132.40 192.55 106.64 Z"/></g></svg>
				</a>
			</form>
		</div>
		<h2 class="page-title" style="margin: 80px 0 40px;">{{ album.title }}</h2>
		<ul class="admin-album-list">
			<li class="new-album">
				<a ng-href="#" ng-click="triggerPhotosUpload($event)">
					<div class="image-holder">
						<div class="image-placeholder">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 873 865" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 367.17 45.17 C 375.55 40.22 385.36 38.22 395.03 38.25 C 430.75 38.30 466.48 38.15 502.20 38.32 C 515.70 38.40 528.97 43.97 538.45 53.57 C 548.61 63.17 554.44 76.97 554.47 90.93 C 554.54 168.62 554.48 246.31 554.50 324.00 C 632.02 324.01 709.53 323.99 787.05 324.01 C 801.18 323.95 815.21 329.75 824.93 340.04 C 834.73 349.70 840.23 363.30 840.21 377.03 C 840.31 412.70 840.24 448.37 840.24 484.04 C 840.25 494.24 837.80 504.59 832.17 513.19 C 822.94 527.85 806.48 537.93 789.00 538.21 C 710.83 538.31 632.66 538.21 554.50 538.26 C 554.51 614.50 554.49 690.73 554.51 766.97 C 554.63 774.29 553.98 781.74 551.47 788.67 C 544.36 808.69 524.47 823.70 503.05 823.93 C 466.33 824.07 429.61 823.99 392.89 823.97 C 379.06 823.94 365.40 818.26 355.81 808.29 C 346.10 798.88 340.43 785.57 340.26 772.07 C 340.23 694.13 340.26 616.19 340.24 538.25 C 262.18 538.23 184.12 538.29 106.05 538.22 C 82.84 538.05 61.41 520.43 56.05 497.99 C 53.99 489.80 54.58 481.31 54.50 472.96 C 54.52 440.68 54.45 408.40 54.53 376.13 C 54.68 362.88 60.03 349.82 69.40 340.43 C 78.99 330.09 92.88 324.10 106.96 324.03 C 184.72 323.96 262.48 324.02 340.25 324.00 C 340.25 247.65 340.25 171.31 340.24 94.97 C 340.12 88.77 340.55 82.50 342.31 76.53 C 346.04 63.33 355.46 52.12 367.17 45.17 Z"/></g></svg>
						</div>
					</div>
				</a>
				<input type="file" id="newPhotos" multiple accept="image/jpeg">
			</li>
			<li ng-repeat="image in photos | orderBy: 'id'" ng-class="{'changed': photoTagsChanged}">
				<a ng-href="#" modal data-target="photo{{ $index }}" ng-click="openModal($event)" class="photo{{ image.id }}">
					<div class="spinner"></div>
					<div class="image-holder" ng-style="{'background-image': 'url({{ image.image }})'}"></div>
					<h3 ng-if="image.title">{{ image.title }}</h3>
					<p class="photo-desc" ng-if="image.desc">{{ image.desc }}</p>
					<div class="photo-tags" ng-if="image.tags.length">
						<div class="photo-tag" ng-repeat="tag in image.tags"><span>#</span>{{ tag }}</div>
					</div>
				</a>
				<a ng-href="#" ng-click="removePhoto($event, image.image, image)" class="btn-remove">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 815" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 192.55 106.64 C 208.76 90.58 235.60 87.68 255.37 98.64 C 261.44 101.97 266.50 106.79 271.32 111.69 C 324.67 165.05 378.03 218.40 431.38 271.76 C 485.61 217.51 539.86 163.29 594.09 109.04 C 598.63 104.43 603.75 100.32 609.58 97.46 C 628.89 88.03 654.10 91.07 669.69 106.22 C 684.72 120.89 699.42 135.90 714.32 150.70 C 725.87 162.37 737.66 173.79 749.04 185.62 C 765.93 203.34 767.40 233.18 752.94 252.78 C 750.30 256.48 747.01 259.63 743.81 262.82 C 690.25 316.38 636.69 369.93 583.13 423.50 C 636.33 476.73 689.57 529.93 742.78 583.16 C 746.97 587.28 751.14 591.51 754.38 596.45 C 767.37 616.10 765.29 644.60 748.89 661.70 C 724.74 685.95 700.49 710.11 676.30 734.33 C 672.79 737.75 669.51 741.45 665.57 744.40 C 645.89 759.77 615.06 758.41 597.08 740.93 C 541.84 685.72 486.61 630.48 431.39 575.25 C 376.31 630.30 321.27 685.38 266.19 740.43 C 247.15 759.51 213.11 759.96 193.57 741.41 C 181.24 729.75 169.51 717.47 157.42 705.56 C 143.01 690.99 128.28 676.72 114.06 661.96 C 97.23 644.69 95.25 615.54 108.78 595.76 C 111.94 591.02 116.06 587.04 120.09 583.05 C 173.26 529.85 226.47 476.70 279.62 423.49 C 224.44 368.31 169.26 313.14 114.09 257.96 C 104.66 248.20 99.53 234.54 99.98 221.00 C 99.73 207.30 105.41 193.76 115.06 184.09 C 140.88 158.26 166.67 132.40 192.55 106.64 Z"/></g></svg>
				</a>
				<div class="modal" id="photo{{ $index }}">
					<div class="modal-inner">
						<a ng-href="#" class="modal-close-overlay" ng-click="closeModal($event)">Отмена</a>
						<div class="modal-box-align">Alignment</div>
						<div class="modal-box">
							<a ng-href="#" class="modal-close" ng-click="closeModal($event)">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 815" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 192.55 106.64 C 208.76 90.58 235.60 87.68 255.37 98.64 C 261.44 101.97 266.50 106.79 271.32 111.69 C 324.67 165.05 378.03 218.40 431.38 271.76 C 485.61 217.51 539.86 163.29 594.09 109.04 C 598.63 104.43 603.75 100.32 609.58 97.46 C 628.89 88.03 654.10 91.07 669.69 106.22 C 684.72 120.89 699.42 135.90 714.32 150.70 C 725.87 162.37 737.66 173.79 749.04 185.62 C 765.93 203.34 767.40 233.18 752.94 252.78 C 750.30 256.48 747.01 259.63 743.81 262.82 C 690.25 316.38 636.69 369.93 583.13 423.50 C 636.33 476.73 689.57 529.93 742.78 583.16 C 746.97 587.28 751.14 591.51 754.38 596.45 C 767.37 616.10 765.29 644.60 748.89 661.70 C 724.74 685.95 700.49 710.11 676.30 734.33 C 672.79 737.75 669.51 741.45 665.57 744.40 C 645.89 759.77 615.06 758.41 597.08 740.93 C 541.84 685.72 486.61 630.48 431.39 575.25 C 376.31 630.30 321.27 685.38 266.19 740.43 C 247.15 759.51 213.11 759.96 193.57 741.41 C 181.24 729.75 169.51 717.47 157.42 705.56 C 143.01 690.99 128.28 676.72 114.06 661.96 C 97.23 644.69 95.25 615.54 108.78 595.76 C 111.94 591.02 116.06 587.04 120.09 583.05 C 173.26 529.85 226.47 476.70 279.62 423.49 C 224.44 368.31 169.26 313.14 114.09 257.96 C 104.66 248.20 99.53 234.54 99.98 221.00 C 99.73 207.30 105.41 193.76 115.06 184.09 C 140.88 158.26 166.67 132.40 192.55 106.64 Z"/></g></svg>
							</a>
							<div class="modal-text">
								<h2>Редактировать изображение</h2>
								<form class="admin-form">
									<fieldset>
										<div class="form-row">
											<img ng-src="{{ image.image }}">
										</div>
									</fieldset>
									<fieldset>
										<div class="form-row">
											<input type="text" placeholder="Введите название фотографии" required ng-model="image.title" ng-keyup="checkIfUpdated()">
										</div>
										<div class="form-row">
											<textarea placeholder="Введите описание фотографии" id="newAlbumDesc" ng-model="image.desc" ng-keyup="checkIfUpdated()"></textarea>
										</div>
										<div class="form-row">
											<div tags-list="image.tags" tags-list-changed="photoTagsChanged"></div>
										</div>
									</fieldset>
									<div class="form-row" style="overflow: hidden; width: 100%; text-align: center;">
										<hr>
										<input type="submit" value="Сохранить" class="btn" ng-class="{disabled: !photosUpdated && !photoTagsChanged}" ng-click="updatePhotos($event, album.title, album.image)" style="float: none;">
									</div>
									<div class="item-overlay">
										<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"/><path d="M36 18c0-9.94-8.06-18-18-18" transform="rotate(273.929 18 18)"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"/></path></g></g></svg>
									</div>
								</form>
							</div>
							<a ng-href="#" class="modal-prev" ng-click="prevModal($event, 'photo' + ($index - 1), 'photo' + $index)" ng-if="$index > 0">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 624 946" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 449.91 16.95 C 460.14 11.94 472.94 12.31 482.76 18.17 C 486.09 20.03 488.85 22.73 491.66 25.29 C 520.72 54.34 549.76 83.39 578.82 112.44 C 583.97 117.47 589.09 122.95 591.45 129.91 C 596.37 143.06 592.15 158.43 581.95 167.88 C 483.59 266.33 385.14 364.70 286.75 463.13 C 385.09 561.49 483.47 659.81 581.79 758.19 C 589.15 765.41 594.12 775.38 593.44 785.87 C 593.35 795.41 588.59 804.30 581.83 810.81 C 554.14 838.48 526.47 866.16 498.80 893.83 C 492.26 900.24 486.06 907.70 477.13 910.78 C 465.11 915.16 450.74 912.42 441.48 903.49 C 434.52 896.83 427.83 889.88 420.97 883.11 C 289.46 751.59 157.93 620.08 26.42 488.55 C 18.85 481.29 14.59 470.69 15.67 460.19 C 16.15 451.55 20.47 443.53 26.59 437.55 C 162.40 301.72 298.22 165.91 434.04 30.09 C 438.92 25.26 443.61 19.94 449.91 16.95 Z"/></g></svg>
							</a>
							<a ng-href="#" class="modal-next" ng-click="nextModal($event, 'photo' + ($index + 1), 'photo' + $index)" ng-if="$index < photos.length - 1">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 660 952" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 171.12 15.87 C 180.72 12.18 192.04 12.69 201.03 17.84 C 205.90 20.49 209.72 24.60 213.60 28.47 C 347.08 161.95 480.57 295.44 614.05 428.92 C 618.35 433.35 623.01 437.48 626.86 442.33 C 633.70 451.18 635.49 463.45 632.04 474.02 C 630.29 479.68 626.75 484.62 622.60 488.79 C 486.07 625.31 349.55 761.83 213.03 898.35 C 209.73 901.70 206.40 905.10 202.39 907.62 C 191.61 914.49 176.90 914.56 166.04 907.82 C 163.01 906.00 160.38 903.60 157.81 901.20 C 128.83 872.21 99.85 843.23 70.86 814.25 C 65.55 809.07 60.19 803.46 57.79 796.27 C 53.18 783.67 56.69 768.73 66.41 759.48 C 165.17 660.68 263.96 561.91 362.75 463.14 C 265.29 365.66 167.81 268.21 70.35 170.73 C 66.44 166.87 62.38 162.97 59.84 158.02 C 54.26 147.72 54.46 134.46 60.42 124.36 C 62.22 121.03 64.89 118.30 67.39 115.49 C 95.55 87.30 123.74 59.13 151.92 30.95 C 157.66 25.20 163.36 18.91 171.12 15.87 Z"/></g></svg>
							</a>
						</div>
					</div>
				</div>
			</li>
			<li class="spinner-item" ng-if="showSpinner">
				<div class="image-holder">
					<div class="spinner"></div>
					<span class="spinner-label">{{ currentLength }} из {{ newLength }}</span>
				</div>
			</li>
			<li class="new-album">
				<a ng-href="#" ng-click="triggerPhotosUpload($event)">
					<div class="image-holder">
						<div class="image-placeholder">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 873 865" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 367.17 45.17 C 375.55 40.22 385.36 38.22 395.03 38.25 C 430.75 38.30 466.48 38.15 502.20 38.32 C 515.70 38.40 528.97 43.97 538.45 53.57 C 548.61 63.17 554.44 76.97 554.47 90.93 C 554.54 168.62 554.48 246.31 554.50 324.00 C 632.02 324.01 709.53 323.99 787.05 324.01 C 801.18 323.95 815.21 329.75 824.93 340.04 C 834.73 349.70 840.23 363.30 840.21 377.03 C 840.31 412.70 840.24 448.37 840.24 484.04 C 840.25 494.24 837.80 504.59 832.17 513.19 C 822.94 527.85 806.48 537.93 789.00 538.21 C 710.83 538.31 632.66 538.21 554.50 538.26 C 554.51 614.50 554.49 690.73 554.51 766.97 C 554.63 774.29 553.98 781.74 551.47 788.67 C 544.36 808.69 524.47 823.70 503.05 823.93 C 466.33 824.07 429.61 823.99 392.89 823.97 C 379.06 823.94 365.40 818.26 355.81 808.29 C 346.10 798.88 340.43 785.57 340.26 772.07 C 340.23 694.13 340.26 616.19 340.24 538.25 C 262.18 538.23 184.12 538.29 106.05 538.22 C 82.84 538.05 61.41 520.43 56.05 497.99 C 53.99 489.80 54.58 481.31 54.50 472.96 C 54.52 440.68 54.45 408.40 54.53 376.13 C 54.68 362.88 60.03 349.82 69.40 340.43 C 78.99 330.09 92.88 324.10 106.96 324.03 C 184.72 323.96 262.48 324.02 340.25 324.00 C 340.25 247.65 340.25 171.31 340.24 94.97 C 340.12 88.77 340.55 82.50 342.31 76.53 C 346.04 63.33 355.46 52.12 367.17 45.17 Z"/></g></svg>
						</div>
					</div>
				</a>
				<input type="file" id="newPhotos" multiple accept="image/jpeg">
			</li>
			<div class="item-overlay">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"/><path d="M36 18c0-9.94-8.06-18-18-18" transform="rotate(273.929 18 18)"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"/></path></g></g></svg>
			</div>
		</ul>
		<div class="admin-form" ng-if="photos.length && hasPhotos">
			<div class="form-row" style="overflow: hidden; width: 100%; text-align: center;">
				<hr>
				<a ng-href="#" class="btn btn-removeAll" ng-click="removeAllPhotos($event, album.title, album.image)" style="float: left;">Удалить все</a>
				<input type="submit" value="Сохранить" class="btn save-all-btn" ng-class="{disabled: !photosUpdated && !photoTagsChanged}" ng-click="updatePhotos($event, album.title, album.image)">
			</div>
		</div>
	</div>
</div>
