<header>
	<admin-logo></admin-logo>
</header>
<admin-nav></admin-nav>
<div class="admin-page">
	<h2 class="page-title">Теги</h2>
	<form class="admin-form" style="margin: 0 -9999px 80px; padding: 40px 9999px; background: #f9f9f9;" ng-submit="addTag($event)">
		<div class="form-row" style="max-width: 400px; margin: 0 auto;">
			<div class="form-row-item">
				<input type="text" placeholder="Найти тег" ng-model="tagsInput" style="text-transform: none; background: none;" autofocus id='tagInput'>
			</div>
			<div class="form-row-item">
				<input type="submit" class="btn" value="Добавить тег">
			</div>
		</div>
	</form>
	<div class="tags-list-page">
		<div class="tags-cols" ng-class="{'loaded': tags.length}">
			<div class="tags-col" ng-repeat="type in types | orderBy: type">
				<h2><span>#</span>{{ type }}</h2>
				<ul class="tags-list">
					<li class="tags-list-item" ng-if="tag.type == type" ng-repeat="tag in tags | filter: tagsInput | orderBy : 'tag'" ng-class="{'disabled': tag.disabled}">
						<div class="tag-inner">
							<a ng-href="#" class="tag-link" ng-click="editTag($event)">{{ tag.tag }}</a>
							<div class="tag-buttons">
								<a ng-href="#" ng-if="!tag.disabled" ng-click="searchTag($event, tag)">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 963 964" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 320.57 40.42 C 379.63 28.34 441.44 29.78 499.78 45.06 C 565.89 62.88 627.87 97.10 676.73 145.24 C 726.84 194.74 762.37 258.32 780.57 326.22 C 792.43 371.66 795.77 419.21 791.19 465.91 C 787.01 509.11 775.50 551.65 756.88 590.88 C 747.62 610.80 736.34 629.71 724.00 647.86 C 788.19 712.08 852.42 776.25 916.60 840.49 C 931.87 855.79 938.45 878.48 935.30 899.71 C 932.91 918.79 921.34 935.79 906.13 947.16 C 881.27 966.26 842.95 965.39 819.43 944.45 C 805.06 930.55 790.97 916.36 776.83 902.22 C 749.89 875.13 722.71 848.29 695.67 821.30 C 671.48 797.12 647.34 772.87 622.98 748.86 C 593.93 768.83 562.39 785.26 529.07 796.85 C 456.46 821.84 376.52 824.55 302.19 805.58 C 233.59 787.27 169.29 751.37 119.50 700.53 C 76.69 656.88 45.17 602.69 26.18 544.70 C 0.06 463.69 1.40 374.06 30.15 293.93 C 42.08 261.03 57.94 229.49 77.75 200.63 C 97.62 171.49 121.70 145.30 148.83 122.78 C 198.47 82.26 257.88 53.70 320.57 40.42 M 390.32 175.33 C 371.40 176.09 352.49 178.60 334.19 183.54 C 303.97 191.43 275.57 205.77 250.81 224.76 C 220.73 248.15 194.83 277.40 177.21 311.31 C 158.45 346.99 149.85 387.60 150.45 427.79 C 150.57 452.63 154.17 477.51 161.61 501.22 C 172.45 536.26 192.09 568.29 217.20 594.92 C 242.32 621.83 272.81 644.08 307.10 657.77 C 349.63 674.89 396.88 678.74 442.04 671.91 C 486.28 665.21 528.19 645.20 561.81 615.76 C 589.65 591.67 613.24 562.22 628.56 528.61 C 648.26 486.07 653.86 437.83 648.24 391.52 C 643.41 350.87 627.69 311.62 603.15 278.85 C 580.94 249.23 552.97 223.69 520.66 205.48 C 481.28 183.09 435.39 173.64 390.32 175.33 Z"/></g></svg>
								</a>
								<a ng-href="#" class="remove-tag" ng-click="removeTag($event, tag.tag)">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 815" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 192.55 106.64 C 208.76 90.58 235.60 87.68 255.37 98.64 C 261.44 101.97 266.50 106.79 271.32 111.69 C 324.67 165.05 378.03 218.40 431.38 271.76 C 485.61 217.51 539.86 163.29 594.09 109.04 C 598.63 104.43 603.75 100.32 609.58 97.46 C 628.89 88.03 654.10 91.07 669.69 106.22 C 684.72 120.89 699.42 135.90 714.32 150.70 C 725.87 162.37 737.66 173.79 749.04 185.62 C 765.93 203.34 767.40 233.18 752.94 252.78 C 750.30 256.48 747.01 259.63 743.81 262.82 C 690.25 316.38 636.69 369.93 583.13 423.50 C 636.33 476.73 689.57 529.93 742.78 583.16 C 746.97 587.28 751.14 591.51 754.38 596.45 C 767.37 616.10 765.29 644.60 748.89 661.70 C 724.74 685.95 700.49 710.11 676.30 734.33 C 672.79 737.75 669.51 741.45 665.57 744.40 C 645.89 759.77 615.06 758.41 597.08 740.93 C 541.84 685.72 486.61 630.48 431.39 575.25 C 376.31 630.30 321.27 685.38 266.19 740.43 C 247.15 759.51 213.11 759.96 193.57 741.41 C 181.24 729.75 169.51 717.47 157.42 705.56 C 143.01 690.99 128.28 676.72 114.06 661.96 C 97.23 644.69 95.25 615.54 108.78 595.76 C 111.94 591.02 116.06 587.04 120.09 583.05 C 173.26 529.85 226.47 476.70 279.62 423.49 C 224.44 368.31 169.26 313.14 114.09 257.96 C 104.66 248.20 99.53 234.54 99.98 221.00 C 99.73 207.30 105.41 193.76 115.06 184.09 C 140.88 158.26 166.67 132.40 192.55 106.64 Z"/></g></svg>
								</a>
							</div>
						</div>
						<a ng-href="#" class="closeTag" ng-click="editTag($event)">Close</a>
						<a ng-href="#" class="tag-modal-link" modal data-target="{{ tag._id }}" ng-click="openModal($event)" style="display: none;"></a>
					</li>
				</ul>
			</div>
		</div>
		<div class="tags-message">
			<p>Такого тега не существует</p>
		</div>
		<div class="item-overlay">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"/><path d="M36 18c0-9.94-8.06-18-18-18" transform="rotate(273.929 18 18)"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"/></path></g></g></svg>
		</div>
	</div>
	<div class="modal" id="">
		<div class="modal-inner">
			<a ng-href="#" class="modal-close-overlay" ng-click="closeModal($event)">Отмена</a>
			<div class="modal-box-align">Alignment</div>
			<div class="modal-box">
				<a ng-href="#" class="modal-close" ng-click="closeModal($event)">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 820 815" version="1.1"><g id="#ffffffff"></g><g id="#000000ff"><path opacity="1.00" d=" M 192.55 106.64 C 208.76 90.58 235.60 87.68 255.37 98.64 C 261.44 101.97 266.50 106.79 271.32 111.69 C 324.67 165.05 378.03 218.40 431.38 271.76 C 485.61 217.51 539.86 163.29 594.09 109.04 C 598.63 104.43 603.75 100.32 609.58 97.46 C 628.89 88.03 654.10 91.07 669.69 106.22 C 684.72 120.89 699.42 135.90 714.32 150.70 C 725.87 162.37 737.66 173.79 749.04 185.62 C 765.93 203.34 767.40 233.18 752.94 252.78 C 750.30 256.48 747.01 259.63 743.81 262.82 C 690.25 316.38 636.69 369.93 583.13 423.50 C 636.33 476.73 689.57 529.93 742.78 583.16 C 746.97 587.28 751.14 591.51 754.38 596.45 C 767.37 616.10 765.29 644.60 748.89 661.70 C 724.74 685.95 700.49 710.11 676.30 734.33 C 672.79 737.75 669.51 741.45 665.57 744.40 C 645.89 759.77 615.06 758.41 597.08 740.93 C 541.84 685.72 486.61 630.48 431.39 575.25 C 376.31 630.30 321.27 685.38 266.19 740.43 C 247.15 759.51 213.11 759.96 193.57 741.41 C 181.24 729.75 169.51 717.47 157.42 705.56 C 143.01 690.99 128.28 676.72 114.06 661.96 C 97.23 644.69 95.25 615.54 108.78 595.76 C 111.94 591.02 116.06 587.04 120.09 583.05 C 173.26 529.85 226.47 476.70 279.62 423.49 C 224.44 368.31 169.26 313.14 114.09 257.96 C 104.66 248.20 99.53 234.54 99.98 221.00 C 99.73 207.30 105.41 193.76 115.06 184.09 C 140.88 158.26 166.67 132.40 192.55 106.64 Z"/></g></svg>
				</a>
				<div class="modal-text">
					<h2><span>#</span><strong class="tag-modal-heading"></strong></h2>
					<hr>
					<h2 ng-if="albums.length">Альбомы</h2>
					<ul class="tags-search-list" ng-if="albums.length">
						<li class="tags-search-list-item" ng-repeat="album in albums" ng-class="{'photo-draft': !album.published}">
							<a ng-href="/admin/photos/{{ album.url }}">
								<div class="image-holder" ng-style="{'background-image': 'url(' + album.image + ')'}"></div>
								<h3 ng-if="album.title">{{ album.title }}</h3>
								<div class="photo-tags" ng-if="album.tags.length">
									<div class="photo-tag" ng-repeat="tag in album.tags" ng-if="tag == currentTag"><span>#</span><font>{{ tag }}</font></div>
									<div class="photo-tag" ng-repeat="tag in album.tags" ng-if="tag != currentTag"><span>#</span>{{ tag }}</div>
								</div>
							</a>
						</li>
					</ul>
					<hr ng-if="photos.length">
					<h2 ng-if="photos.length">Фотографии</h2>
					<ul class="tags-search-list" ng-if="photos.length">
						<li class="tags-search-list-item" ng-repeat="photo in photos" ng-class="{'photo-draft': !photo.published}">
							<a ng-href="/admin/photos/{{ photo.parentUrl }}#photo{{ photo.id }}">
								<div class="image-holder" ng-style="{'background-image': 'url(' + photo.image + ')'}"></div>
								<h3 ng-if="photo.title">{{ photo.title }}</h3>
								<div class="photo-tags" ng-if="photo.tags.length">
									<div class="photo-tag" ng-repeat="tag in photo.tags" ng-if="tag == currentTag"><span>#</span><font>{{ tag }}</font></div>
									<div class="photo-tag" ng-repeat="tag in photo.tags" ng-if="tag != currentTag"><span>#</span>{{ tag }}</div>
								</div>
							</a>
						</li>
					</ul>
					<hr>
					<div class="btn-holder">
						<a ng-href="#" class="btn btn-remove" ng-click="triggerRemove($event)">Удалить тег</a>
					</div>
				</div>
				<a ng-href="#" class="modal-prev" ng-click="prevModal($event, 'album-' + ($index - 1), 'album-' + $index)" ng-if="$index > 0">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 561" version="1.1"><g id="#ffffffff"></g><g id="#242424ff"><path opacity="1.00" d=" M 448.22 0.00 L 454.55 0.00 C 465.99 0.65 477.25 5.45 485.12 13.87 C 494.97 24.14 499.38 38.49 500.00 52.46 L 500.00 508.65 C 499.43 522.55 494.65 536.67 484.75 546.72 C 476.60 555.30 465.07 560.19 453.33 561.00 L 447.54 561.00 C 437.77 560.21 428.27 557.08 419.82 552.13 C 295.19 480.11 170.58 408.06 45.95 336.03 C 35.06 329.46 23.11 324.08 14.32 314.59 C 6.28 306.31 0.95 295.37 0.00 283.82 L 0.00 278.37 C 0.75 266.20 6.50 254.72 15.04 246.15 C 20.88 240.03 28.10 235.50 35.44 231.42 C 163.65 157.34 291.85 83.25 420.06 9.18 C 428.64 4.11 438.28 0.89 448.22 0.00 M 440.65 50.64 C 311.40 125.39 182.14 200.11 52.88 274.85 C 50.20 276.38 47.69 278.33 46.02 280.97 C 47.94 283.07 50.08 284.98 52.59 286.37 C 181.20 360.73 309.79 435.11 438.39 509.49 C 442.68 511.94 446.97 514.86 452.05 515.32 C 453.46 512.44 453.93 509.24 453.88 506.07 C 453.89 356.06 453.87 206.04 453.89 56.03 C 453.95 52.60 453.57 49.12 452.14 45.96 C 447.95 46.50 444.20 48.49 440.65 50.64 Z"/></g></svg>
				</a>
				<a ng-href="#" class="modal-next" ng-click="nextModal($event, 'album-' + ($index + 1), 'album-' + $index)" ng-if="$index < photos.length - 1">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 561" version="1.1"><g id="#ffffffff"></g><g id="#242424ff"><path opacity="1.00" d=" M 45.54 0.00 L 53.46 0.00 C 63.21 0.81 72.60 4.21 80.99 9.17 C 205.79 81.31 330.61 153.43 455.42 225.56 C 463.12 230.20 471.27 234.17 478.45 239.65 C 490.05 248.47 498.89 261.72 500.00 276.52 L 500.00 283.63 C 498.55 303.05 484.21 318.89 467.65 327.73 C 343.65 399.35 219.67 470.99 95.68 542.61 C 84.42 548.81 73.69 556.65 60.90 559.39 C 46.41 562.89 29.97 560.27 18.52 550.32 C 6.13 540.05 0.60 523.67 0.00 507.99 L 0.00 51.77 C 0.75 39.26 4.57 26.57 12.82 16.92 C 20.81 7.09 32.96 1.00 45.54 0.00 M 47.97 45.59 C 46.37 48.81 46.09 52.44 46.12 55.97 C 46.11 205.30 46.12 354.63 46.12 503.96 C 46.14 507.67 46.21 511.58 48.05 514.92 C 51.33 514.29 54.50 513.13 57.35 511.37 C 186.01 437.01 314.67 362.63 443.34 288.26 C 447.26 286.00 451.55 283.88 454.11 279.97 C 450.73 275.77 445.73 273.55 441.22 270.85 C 313.22 196.84 185.21 122.83 57.21 48.82 C 54.36 47.20 51.27 45.88 47.97 45.59 Z"/></g></svg>
				</a>
			</div>
		</div>
	</div>
</div>